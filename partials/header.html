<header>
  <div class="header-left">
    <a href="index.html" onclick="navigateTo('feed')" style="color:var(--text-main); font-size: 1.3rem; text-decoration: none; display: flex; align-items: center; gap: 10px;">
    <span class="logo" style="font-weight: bold;">SosyaLTrend</span>
    </a>
  </div>
  <form id="mainSearchBtn" action="search.html" method="GET" class="header-center">
    <div class="search-wrapper"><i class="fa-solid fa-magnifying-glass"></i>
      <input type="text" name="q" id="globalSearch" data-i18n-placeholder="searchPlaceholder">
    </div>
  </form>


  <div class="header-right">
    <button id="themeToggleBtn" class="theme-btn" onclick="toggleDarkMode()" title="Tema Değiştir"><i class="fa-solid fa-moon"></i></button>
    
    <div style="position:relative;">
      <button id="notificationsBtn" class="theme-btn" onclick="toggleNotifications()" title="Bildirimler" style="position:relative; display: flex; align-items: center; gap: 5px;">
  <i class="fa-solid fa-bell"></i>
  
  <span id="requestCountBadge" style="font-size: 0.8rem; font-weight: 700; color: var(--text-main);">0</span>

  <span id="notificationBadge" style="display:none; position:absolute; top:2px; right:2px; background:#ef4444; width:8px; height:8px; border-radius:50%; border: 2px solid var(--header-bg);"></span>
</button>
      
<div id="notificationsDropdown" style="display:none; position:absolute; top:45px; right:0; background:var(--card-bg); border:1px solid var(--border); border-radius:12px; width:340px; max-height:450px; overflow:hidden; z-index:1000; box-shadow:0 10px 30px rgba(0,0,0,0.2); flex-direction:column;">
        <div style="padding:12px 15px; border-bottom:1px solid var(--border); background:linear-gradient(135deg, var(--primary), #8b5cf6); color:white; border-radius:12px 12px 0 0; flex-shrink:0; display:flex; align-items:center; gap:10px; justify-content:space-between;">
          <div style="display:flex; align-items:center; gap:10px; flex:1;">
            <i class="fa-solid fa-bell"></i>
            <h4 style="margin:0; font-size:0.95rem; font-weight:700; display:inline-block;">Bildirim Kutusu</h4>
            <span id="requestCountBadge" style="background:rgba(255,255,255,0.3); padding:2px 8px; border-radius:12px; font-size:0.8rem; font-weight:600;">0</span>
          </div>
          <button onclick="window.location.href='profil.html#my-notifs-tab'" style="background: rgba(255,255,255,0.18); color: white; border: none; padding:6px 10px; border-radius:8px; font-size:0.75rem; cursor:pointer; font-weight:700; white-space:nowrap; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(255,255,255,0.25)'" onmouseout="this.style.background='rgba(255,255,255,0.18)';">
            <i class="fa-solid fa-arrow-right"></i> Bildirimlerime Git
          </button>
        </div>
        <div id="friendRequestsList" style="flex:1; overflow-y:auto;"></div>
        <div id="noNotificationsMsg" style="padding:30px 20px; text-align:center; color:var(--text-muted); font-size:0.85rem; display:flex; flex-direction:column; align-items:center; justify-content:center;">
          <i class="fa-solid fa-inbox" style="font-size:2rem; margin-bottom:12px; opacity:0.5;"></i>
          <p style="margin:0; font-weight:500;">Yeni bildirim yok</p>
        </div>
      </div>
    </div>
    
    <div class="profile-trigger" id="profileTrigger">
        <img id="headerAvatar" src="">
      </div>
        <div class="dropdown-menu" id="dropdownMenu">
        <div style="padding: 10px; border-bottom: 1px solid var(--border); margin-bottom: 5px;">
            <p id="menuDisplayName" style="font-weight: 800; font-size: 0.85rem;">...</p>
            <p id="menuUsername" style="font-size: 0.75rem; color: var(--text-muted);">@...</p>
        </div>
        <button class="menu-style-btn" id="adminMenuBtn" onclick="window.location.href='admin.html'" style="display:none; color: var(--primary);">
    <i class="fa-solid fa-user-shield"></i> <span>Yönetici Paneli</span>
</button>
<button class="menu-style-btn" onclick="window.location.href='profil.html'"><i class="fa-solid fa-user"></i> <span data-i18n="menuProfile">Profiliniz</span></button>
<button class="menu-style-btn" onclick="window.location.href='mesajlar.html'"><i class="fa-solid fa-message"></i> <span data-i18n="menuProfile">Mesajlarınız</span></button>
<button class="menu-style-btn" onclick="window.location.href='settings.html'"><i class="fa-solid fa-gear"></i> <span data-i18n="menuSettings">Ayarlar</span></button>        
<button class="menu-style-btn" onclick="logout()" style="color:#ef4444; border-top:1px solid var(--border); margin-top:5px;"><i class="fa-solid fa-right-from-bracket"></i> <span>Çıkış Yap</span></button>
    </div>
  </div>
</header>

<!-- Mobile bottom navigation (Facebook-like) -->
<div class="mobile-bottom-nav" id="mobileBottomNav">
  <a href="index.html" onclick="navigateTo('feed')" class="active">
    <i class="fa-solid fa-house"></i>
    <span>Ana</span>
  </a>
  <a href="profil.html" onclick="navigateTo('profil')">
    <i class="fa-solid fa-user"></i>
    <span>Profil</span>
  </a>
  <a href="#" onclick="document.getElementById('postInput')?.focus();" class="mobile-share-btn">
    <i class="fa-solid fa-plus" style="background:var(--primary); color:#fff; padding:10px; border-radius:12px; font-size:1.05rem;"></i>
    <span>Paylaş</span>
  </a>
  <a href="#" onclick="toggleNotifications(); return false;">
    <i class="fa-solid fa-bell"></i>
    <span>Bildirimler</span>
  </a>
  <a href="mesajlar.html" onclick="navigateTo('profil')">
    <i class="fa-solid fa-envelope"></i>
    <span>Mesajlar</span>
  </a>
</div>