<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SosyalTrend â€¢ Anasayfa</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="icon" type="image/x-icon" href="assets/img/strendsaydamv2.ico">
  <style>
    /* Ãœst Bilgi Ã‡ubuÄŸu (Top Bar) Stilleri */
    .top-bar {
    background: var(--card-bg);
    backdrop-filter: blur(15px);
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 6px 25px;
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text-main);
    position: sticky;
    top: 3px;
    z-index: 2001;
    }
    .top-bar::before {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: var(--line-gradient);
    }

    .top-bar-left {
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .top-bar-right {
      display: flex;
      align-items: center;
      gap: 12px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      opacity: 0.9;
    }

    /* Hareketli zaman efekti */
    #topBarDateTime {
      min-width: 180px;
      text-align: right;
    }
    
    @media (max-width: 768px) {
      .top-bar-left { font-size: 0.7rem; }
      .top-bar-right { font-size: 0.7rem; }
    }
  </style>
</head>
<body>

<div class="top-bar">
  <div class="top-bar-left">
    <i class="fa-solid fa-circle-check" style="font-size: 0.6rem; animation: pulse 2s infinite;"></i>
    <span id="welcomeMessage">misafir, HoÅŸ geldin!</span>
  </div>
  <div class="top-bar-right">
    <span id="topBarDateTime"><i class="fa-regular fa-clock"></i> YÃ¼kleniyor...</span>
  </div>
</div>

<header>
  <div class="header-left">
    <a href="index.html" onclick="navigateTo('feed')" style="color:var(--text-main); font-size: 1.3rem; text-decoration: none; display: flex; align-items: center; gap: 10px;">
      <span class="logo" style="font-weight: bold;">SosyalTrend</span>
    </a>
  </div>
  <form id="mainSearchBtn" action="search.html" method="GET" class="header-center">
    <div class="search-wrapper">
      <input type="text" name="q" id="globalSearch" placeholder="Trendleri keÅŸfet...">
    </div>
  </form>

  <div class="header-right">
    <button id="themeToggleBtn" class="theme-btn" onclick="toggleDarkMode()" title="Tema DeÄŸiÅŸtir"><i class="fa-solid fa-moon"></i></button>
    <div class="profile-trigger" id="profileTrigger">
        <img id="headerAvatar" src="">
    </div>
    <div class="dropdown-menu" id="dropdownMenu">
        <div style="padding: 10px; border-bottom: 1px solid var(--border); margin-bottom: 5px;">
            <p id="menuDisplayName" style="font-weight: 800; font-size: 0.85rem;">...</p>
            <p id="menuUsername" style="font-size: 0.75rem; color: var(--text-muted);">@...</p>
        </div>
        <button class="menu-style-btn" id="adminMenuBtn" onclick="window.location.href='admin.html'" style="display:none; color: var(--primary);">
            <i class="fa-solid fa-user-shield"></i> <span>YÃ¶netici Paneli</span>
        </button>
        <button class="menu-style-btn" onclick="window.location.href='profil.html'"><i class="fa-solid fa-user"></i> <span>Profiliniz</span></button>
        <button class="menu-style-btn" onclick="window.location.href='settings.html'"><i class="fa-solid fa-gear"></i> <span>Ayarlar</span></button>        
        <button class="menu-style-btn" onclick="logout()" style="color:#ef4444; border-top:1px solid var(--border); margin-top:5px;"><i class="fa-solid fa-right-from-bracket"></i> <span>Ã‡Ä±kÄ±ÅŸ Yap</span></button>
    </div>
  </div>
</header>

<div class="app-container">
  <aside>
    <div class="glass-card sidebar-profile-card" onclick="navigateTo('profile')" style="cursor: pointer; padding: 21px; text-align: center;">
        <img id="sidebarAvatar" src="" style="width: 97px; height: 99px; border-radius: 50%; border: 2px solid var(--primary); object-fit: cover;">
        <div style="overflow: hidden;">
            <div id="sidebarDisplayName" style="font-weight: 800; font-size: 0.95rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">...</div>
            <div id="sidebarUsername" style="font-size: 0.8rem; color: var(--text-muted);">@...</div>
        </div>
    </div>
    <div class="glass-card sidebar-container">
        <div class="sidebar-title">Sosyal MenÃ¼</div>
        <a href="index.html" class="menu-style-btn nav-item active" id="btn-feed">
            <i class="fa-solid fa-house"></i> <span>Anasayfa</span>
        </a>
        <a href="pages.html" class="menu-style-btn nav-item" id="btn-pages">
            <i class="fa-solid fa-flag"></i> <span>Topluluk SayfalarÄ±</span>
        </a>
        <a href="gundem.html" class="menu-style-btn nav-item" id="btn-gundem">
            <i class="fa-solid fa-bolt-lightning"></i> <span>GÃ¼ndem</span>
        </a>
    </div>
  </aside>

  <main id="main-content">
    <div id="page-feed" class="page-content active">
        <div class="glass-card">
            <div style="padding: 20px;">
                <textarea id="postInput" style="width:100%; border:none; outline:none; resize:none; font-size:1.1rem; min-height:80px; background: transparent; color: var(--text-main);" placeholder="Neler oluyor?"></textarea>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; border-top: 1px solid var(--border); padding: 15px 20px;">
                <div style="display:flex; gap:8px;">
                    <button class="tool-btn"><i class="fa-regular fa-image"></i></button>
                    <button class="tool-btn"><i class="fa-solid fa-list-ul"></i></button>
                    <button class="tool-btn" id="emojiToggle"><i class="fa-regular fa-face-smile"></i></button>
                </div>
                <button id="shareBtn" style="background: var(--primary); color: white; border: none; padding: 10px 25px; border-radius: 50px; font-weight: 700; cursor: pointer;">PaylaÅŸ</button>
            </div>
        </div>
        <div id="feed-items"></div>
    </div>
  </main>

  <aside class="right-panel">
    <div class="glass-card widget-clock">
      <div class="analog-clock">
        <div class="hand hour-hand" id="hourHand"></div>
        <div class="hand min-hand" id="minHand"></div>
        <div class="hand sec-hand" id="secHand"></div>
      </div>
      <div id="digiClock" style="font-size: 1.5rem; font-weight: 800;">00:00:00</div>
      <div id="dateDisplay" class="date-display">...</div>
    </div>
    <div class="glass-card">
        <div class="sidebar-title" style="border-bottom: 1px solid var(--border);">ðŸ”¥ Trend Sayfalar</div>
        <div id="trend-pages-list"></div>
    </div>
  </aside>
</div>

<footer>
  <div class="footer-container">
    <div class="footer-brand" style="display: flex; align-items: center; gap: 15px;">
      <img src="assets/img/strendsaydamv2.png" alt="Logo" style="width: 80px; height: 80px; object-fit: contain;">
      <div>
        <div class="logo">SosyalTrend</div>
        <p style="color:var(--text-muted); font-size:0.9rem; margin: 0;">TopluluÄŸunuzla bir adÄ±m Ã¶nde olun.</p>
      </div>
    </div>
    <div class="footer-section">
      <h4>HÄ±zlÄ± MenÃ¼</h4>
      <ul class="footer-links">
        <li><a href="index.html">Anasayfa</a></li>
        <li><a href="profil.html">Profiliniz</a></li>
        <li><a href="savepost.html">Kaydettikleriniz</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Destek</h4>
      <ul class="footer-links">
        <li><a href="contact.html">Ä°letiÅŸim</a></li>
        <li><a href="yardim.html">YardÄ±m Merkezi</a></li>
      </ul>
    </div>
  </div>
  <div class="footer-bottom">
    <div style="color:var(--text-muted); font-size:0.85rem;">&copy; 2026 <strong>SosyalTrend</strong>. TÃ¼m HaklarÄ± SaklÄ±dÄ±r.</div>
  </div>
</footer>

<script type="module">
  // Dinamik Zaman ve KarÅŸÄ±lama MantÄ±ÄŸÄ±
  function updateClock() {
    const now = new Date();
    const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };
    const dateOptions = { day: 'numeric', month: 'long', year: 'numeric' };
    
    const timeStr = now.toLocaleTimeString('tr-TR', timeOptions);
    const dateStr = now.toLocaleDateString('tr-TR', dateOptions);
    
    const timeElement = document.getElementById('topBarDateTime');
    if(timeElement) {
        timeElement.innerHTML = `<i class="fa-regular fa-calendar-check"></i> ${dateStr} | <i class="fa-regular fa-clock"></i> ${timeStr}`;
    }
  }

  // Firebase Auth entegrasyonu (BasitleÅŸtirilmiÅŸ)
  // Not: GerÃ§ek veriyi app.js iÃ§indeki onAuthStateChanged'dan alacaktÄ±r.
  // Burada baÅŸlangÄ±Ã§ iÃ§in simÃ¼le ediyoruz.
  setInterval(updateClock, 1000);
  updateClock();
</script>

<script type="module" src="assets/js/app.js"></script>
</body>
</html>